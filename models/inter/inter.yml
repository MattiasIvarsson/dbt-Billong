version: 2

models:

  - name: f_result_match
    description: Matches from season 2000 - 2019
    columns:
      - name: match_key
        description: Primary key
        tests:
          - not_null
          - unique

  - name: f_result_team
    description: teamsresults from season 2000 - 2019
    tests:
      - dbt_utils.unique_combination_of_columns:
          combination_of_columns:
            - match_key
            - location
    columns:
      - name: match_key
        description: Primary key
        tests:
          - not_null
          - unique


      - name: location
        tests:
          - accepted_values:
              values: ['Home', 'Away']
      - name: country_key
        tests:
          - relationships:
              to: ref('d_country')
              field: country_key

